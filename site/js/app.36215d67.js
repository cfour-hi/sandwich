(function(t){function e(e){for(var o,c,r=e[0],a=e[1],p=e[2],l=0,d=[];l<r.length;l++)c=r[l],Object.prototype.hasOwnProperty.call(s,c)&&s[c]&&d.push(s[c][0]),s[c]=0;for(o in a)Object.prototype.hasOwnProperty.call(a,o)&&(t[o]=a[o]);u&&u(e);while(d.length)d.shift()();return i.push.apply(i,p||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],o=!0,r=1;r<n.length;r++){var a=n[r];0!==s[a]&&(o=!1)}o&&(i.splice(e--,1),t=c(c.s=n[0]))}return t}var o={},s={app:0},i=[];function c(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=t,c.c=o,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)c.d(n,o,function(e){return t[e]}.bind(null,o));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/sandwich/site/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],a=r.push.bind(r);r.push=e,r=r.slice();for(var p=0;p<r.length;p++)e(r[p]);var u=a;i.push(["8b29","chunk-vendors"]),n()})({"04fd":function(t,e,n){"use strict";var o=n("4c32"),s=n.n(o);s.a},"097e":function(t,e,n){"use strict";var o=n("e4cf"),s=n.n(o);s.a},"215b":function(t,e,n){"use strict";var o=n("2ecd"),s=n.n(o);s.a},"233d":function(t,e,n){"use strict";var o=n("ff22"),s=n.n(o);s.a},"27b0":function(t,e,n){},"2ecd":function(t,e,n){},"35e6":function(t,e,n){},3845:function(t,e,n){"use strict";var o=n("859e"),s=n.n(o);s.a},"4c06":function(t,e,n){"use strict";var o=n("c006"),s=n.n(o);s.a},"4c32":function(t,e,n){},5720:function(t,e,n){"use strict";var o=n("a15a"),s=n.n(o);s.a},"58f9":function(t,e,n){},"6d04":function(t,e,n){},"6f64":function(t,e,n){"use strict";var o=n("27b0"),s=n.n(o);s.a},"7d28":function(t,e,n){"use strict";var o=n("d414"),s=n.n(o);s.a},"859e":function(t,e,n){},"8b29":function(t,e,n){"use strict";n.r(e);var o=n("2b0e"),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[t.components?n("Renderer",{attrs:{components:t.components,"component-render-config":t.componentRenderConfig}}):t._e()],1)},i=[],c=n("ade3"),r=n("5530"),a="SANDWICH_JSON_DATA",p={"手机":"phone","选择题":"choise-question","输入框":"textarea"},u=Object(r["a"])({"图片":"picture","文本":"text","轮播图":"swiper","表单":"form"},p),l={"单选题":"radio","多选题":"checkbox"},d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"renderer"},t._l(t.rootChildComponents,(function(e,o){return n("RenderComponent",t._b({key:e.id,attrs:{components:t.components,component:e},scopedSlots:t._u([{key:"before-component",fn:function(){return[t._t("before-component",null,{component:e,index:o})]},proxy:!0}],null,!0)},"RenderComponent",t.$attrs,!1))})),1)},m=[],f=(n("d81d"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"component-wrap"},[t._t("before-component"),n(t._componentRenderConfig[t.component.type],{ref:"component",tag:"component",staticClass:"component",attrs:{component:t.component}},t._l(t.childComponents,(function(e){return n("RenderComponent",{key:e.id,attrs:{components:t.components,component:e}})})),1)],2)}),h=[],v=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"component__picture"},[t.component.props.src.url?n("img",{staticClass:"picture",attrs:{src:t.component.props.src.url}}):n("PlaceholderPicture")],1)},b=[],_=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"placeholder-picture"},[n("svg-icon",{attrs:{filename:"image"}})],1)},C=[],g={name:"PlaceholderPicture"},y=g,O=(n("04fd"),n("2877")),x=Object(O["a"])(y,_,C,!1,null,"7af9b806",null),j=x.exports,w={name:"ComponentPicture",components:{PlaceholderPicture:j},props:{component:{type:Object,required:!0}}},P=w,S=(n("3845"),Object(O["a"])(P,v,b,!1,null,"0d8e5232",null)),I=S.exports,k=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"component__choice-question"},[n("div",{staticClass:"title",class:{required:t.component.props.required}},[t._v(" "+t._s(t.component.props.title)+" ")]),n("div",{staticClass:"desc"},[t._v(t._s(t.component.props.desc))]),n("ul",{staticClass:"option-list"},t._l(t.options,(function(e,o){return n("li",{key:o,staticClass:"option"},[n("input",{staticClass:"option-input",attrs:{id:"option-"+t._uid+"-"+o,type:t.component.props.quesType,name:"question"+t._uid},domProps:{checked:e.checked},on:{change:function(e){return t.handleChange(o)}}}),n("label",{staticClass:"label",attrs:{for:"option-"+t._uid+"-"+o}},[t._v(t._s(e.label))])])})),0)])},q=[],$=(n("4de4"),n("4160"),n("159b"),{name:"ComponentChoiseQuestion",props:{component:{type:Object,required:!0}},data:function(){return{options:JSON.parse(JSON.stringify(this.component.props.options))}},watch:{"component.props.options":{deep:!0,handler:function(t){this.options=JSON.parse(JSON.stringify(t))}}},methods:{getData:function(){return this.options.filter((function(t){return t.checked})).map((function(t){return t.label}))},handleChange:function(t){this.component.props.quesType===l.单选题?(this.options.forEach((function(e,n){n!==t&&(e.checked=!1)})),this.options[t].checked=!0):this.options[t].checked=!this.options[t].checked}}}),E=$,R=(n("e46d"),Object(O["a"])(E,k,q,!1,null,"1d19a5d8",null)),A=R.exports,T=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"component__textarea"},[n("div",{staticClass:"title",class:{required:t.component.props.required}},[t._v(" "+t._s(t.component.props.title)+" ")]),n("div",{staticClass:"desc"},[t._v(t._s(t.component.props.desc))]),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],staticClass:"textarea",attrs:{rows:t.component.props.rows,placeholder:"请输入"},domProps:{value:t.value},on:{input:function(e){e.target.composing||(t.value=e.target.value)}}})])},N=[],J={name:"ComponentTextarea",props:{component:{type:Object,required:!0}},data:function(){return{value:""}},methods:{getData:function(){return this.value}}},D=J,F=(n("d9a7"),Object(O["a"])(D,T,N,!1,null,"e5c4de66",null)),L=F.exports,B=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"component__text"},[n("div",{style:t.component.style},[t._v(t._s(t.component.props.text))])])},M=[],H={name:"ComponentText",props:{component:{type:Object,required:!0}}},W=H,Q=(n("7d28"),Object(O["a"])(W,B,M,!1,null,"68dd01cc",null)),X=Q.exports,z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"component__swiper"},[t.component.props.pictures.length?[n("div",{staticClass:"picture-list",style:t.pictureListStyle,on:{transitionend:t.handleTransitionend}},[t.seamlessPictures.length?n("div",{staticClass:"picture-item"},[n("img",{staticClass:"picture",attrs:{src:t.seamlessPictures[1].url,alt:""}})]):t._e(),t._l(t.component.props.pictures,(function(t,e){return n("div",{key:e,staticClass:"picture-item"},[n("img",{staticClass:"picture",attrs:{src:t.url,alt:""}})])})),t.seamlessPictures.length?n("div",{staticClass:"picture-item"},[n("img",{staticClass:"picture",attrs:{src:t.seamlessPictures[0].url,alt:""}})]):t._e()],2),n("div",{staticClass:"pagination"},t._l(t.component.props.pictures,(function(e,o){return n("div",{key:o,staticClass:"bullet",class:{active:t.checkIsActiveBullet(o)}})})),0)]:n("PlaceholderPicture")],2)},G=[],K=n("c8b5"),U=n.n(K),V={name:"ComponentSwiper",components:{PlaceholderPicture:j},props:{component:{type:Object,required:!0}},data:function(){return this.hammer=null,this.autoplayInterval=null,this.sliding=!1,{activeIndex:this.component.props.pictures.length>1?1:0,speed:this.component.props.speed}},computed:{pictureListStyle:function(){return{transform:"translateX(-".concat(100*this.activeIndex,"%)"),transition:"transform ".concat(this.speed,"s ease-out")}},seamlessPictures:function(){var t=this.component.props.pictures;return t.length>1?[t[0],t[t.length-1]]:[]}},watch:{"component.props":{deep:!0,handler:function(){this.processAutoplay()}},"component.props.autoplay":{handler:function(t){!t&&this.seamlessPictures.length&&(this.activeIndex=1)}}},mounted:function(){this.processHammer(),this.processAutoplay(),document.addEventListener("visibilitychange",this.onvisibilitychange)},beforeDestroy:function(){document.removeEventListener("visibilitychange",this.onvisibilitychange)},methods:{processHammer:function(){var t=this;this.hammer=new U.a(this.$el),this.hammer.on("swipeleft swiperight",(function(e){t.sliding||(t.sliding=!0,"swipeleft"===e.type?t.activeIndex+=1:"swiperight"===e.type&&(t.activeIndex-=1))}))},processAutoplay:function(){var t=this;clearInterval(this.autoplayInterval),this.component.props.autoplay&&this.component.props.pictures.length>1&&(this.autoplayInterval=setInterval((function(){t.sliding=!0,t.activeIndex+=1}),1e3*this.component.props.delay))},onvisibilitychange:function(){"visible"===document.visibilityState?this.processAutoplay():clearInterval(this.autoplayInterval)},checkIsActiveBullet:function(t){var e=this.component.props.pictures;return 0===t&&this.activeIndex===e.length+1||t===e.length-1&&0===this.activeIndex||this.activeIndex-1===t},handleTransitionend:function(){var t=this;this.activeIndex>this.component.props.pictures.length?(this.speed=0,this.activeIndex=1):this.activeIndex<=0&&(this.speed=0,this.activeIndex=this.component.props.pictures.length),setTimeout((function(){t.speed=t.component.props.speed,t.sliding=!1}),0)}}},Y=V,Z=(n("c793"),Object(O["a"])(Y,z,G,!1,null,"fae7731c",null)),tt=Z.exports,et=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"component__form"},[t._t("default"),n("button",{staticClass:"button",style:t.component.buttonStyle,on:{click:t.handleClickButton}},[t._v(" "+t._s(t.component.buttonProps.text)+" ")])],2)},nt=[],ot={name:"ComponentForm",props:{component:{type:Object,required:!0}},methods:{handleClickButton:function(){var t={};this.$children.forEach((function(e){var n=e.component,o=e.$refs;t[n.id]=o.component.getData()})),this.$emit("submit",t)}}},st=ot,it=(n("4c06"),n("097e"),Object(O["a"])(st,et,nt,!1,null,"1c905e2e",null)),ct=it.exports,rt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"component__phone"},[n("div",{staticClass:"title",class:{required:t.component.props.required}},[t._v(" "+t._s(t.component.props.title)+" ")]),n("div",{staticClass:"desc"},[t._v(t._s(t.component.props.desc))]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],staticClass:"input input__phone",attrs:{type:"tel",placeholder:t.component.props.placeholder},domProps:{value:t.value},on:{input:function(e){e.target.composing||(t.value=e.target.value)}}}),n("div",{staticClass:"code-wrap"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.code,expression:"code"}],ref:"inputCode",staticClass:"input input__code",attrs:{type:"tel",placeholder:"请输入短信验证码"},domProps:{value:t.code},on:{input:function(e){e.target.composing||(t.code=e.target.value)}}}),n("button",{staticClass:"button",style:t.component.buttonStyle,attrs:{disabled:t.disableSendCode},on:{click:t.handleClickSendCode}},[t.disableSendCode?n("span",[t._v(t._s(t.codeCountdown)+"秒")]):n("span",[t._v("发送验证码")])])])])},at=[],pt={name:"ComponentPhone",props:{component:{type:Object,required:!0}},data:function(){return this.timer=null,{value:"",code:"",codeCountdown:0}},computed:{disableSendCode:function(){return this.codeCountdown>0}},methods:{getData:function(){return{value:this.value,code:this.code}},handleClickSendCode:function(){var t=this;this.codeCountdown>0||(this.$refs.inputCode.focus(),this.codeCountdown=60,this.timer=setInterval((function(){t.codeCountdown-=1,0===t.codeCountdown&&clearInterval(t.timer)}),1e3))}}},ut=pt,lt=(n("5720"),Object(O["a"])(ut,rt,at,!1,null,"6a23a9eb",null)),dt=lt.exports,mt={name:"RenderComponent",props:{components:{type:Object,required:!0},component:{type:Object,required:!0},componentRenderConfig:{type:Object,default:function(){return{}}}},data:function(){var t;return this._componentRenderConfig=Object(r["a"])((t={},Object(c["a"])(t,u.图片,I),Object(c["a"])(t,u.选择题,A),Object(c["a"])(t,u.输入框,L),Object(c["a"])(t,u.文本,X),Object(c["a"])(t,u.轮播图,tt),Object(c["a"])(t,u.表单,ct),Object(c["a"])(t,u.手机,dt),t),this.componentRenderConfig),{}},computed:{childComponents:function(){var t,e,n=this;return null===(t=this.component)||void 0===t?void 0:null===(e=t.children)||void 0===e?void 0:e.map((function(t){return n.components[t]}))}}},ft=mt,ht=(n("eb0b"),Object(O["a"])(ft,f,h,!1,null,"3c756c66",null)),vt=ht.exports,bt={name:"Renderer",components:{RenderComponent:vt},inheritAttrs:!1,props:{components:{type:Object,required:!0}},data:function(){return{}},computed:{rootChildComponents:function(){var t=this;return this.components.root.children.map((function(e){return t.components[e]}))}}},_t=bt,Ct=(n("6f64"),Object(O["a"])(_t,d,m,!1,null,"141d8cfa",null)),gt=Ct.exports,yt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("RenderForm",t._b({on:{submit:t.handleSubmit}},"RenderForm",t.$attrs,!1),[t._t("default")],2)},Ot=[],xt={name:"FormWrap",components:{RenderForm:ct},methods:{handleSubmit:function(t){console.log("handleSubmit -> data",t)}}},jt=xt,wt=Object(O["a"])(jt,yt,Ot,!1,null,null,null),Pt=wt.exports,St={name:"App",components:{Renderer:gt},data:function(){return this.componentRenderConfig=Object(c["a"])({},u.表单,Pt),{components:null}},created:function(){var t=window.localStorage.getItem(a);if(t){var e=JSON.parse(t),n=e.components;n&&(this.components=n)}},mounted:function(){var t=this;window.addEventListener("message",(function(e){var n=e.data.components;n&&(t.components=n)}))}},It=St,kt=(n("5fe7"),n("233d"),n("215b"),Object(O["a"])(It,s,i,!1,null,null,null)),qt=kt.exports;o["a"].config.productionTip=!1,new o["a"]({render:function(t){return t(qt)}}).$mount("#app")},a15a:function(t,e,n){},a573:function(t,e,n){},c006:function(t,e,n){},c793:function(t,e,n){"use strict";var o=n("58f9"),s=n.n(o);s.a},d414:function(t,e,n){},d9a7:function(t,e,n){"use strict";var o=n("6d04"),s=n.n(o);s.a},e46d:function(t,e,n){"use strict";var o=n("a573"),s=n.n(o);s.a},e4cf:function(t,e,n){},eb0b:function(t,e,n){"use strict";var o=n("35e6"),s=n.n(o);s.a},ff22:function(t,e,n){}});
//# sourceMappingURL=app.36215d67.js.map